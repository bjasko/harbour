/*
 * $Id$
 */

/* Use this format for the entry headers:
   YYYY-MM-DD HH:MM UTC[-|+]hhmm Your Full Name <your_email@address>
   For example:
   2002-12-01 23:12 UTC+0100 Foo Bar <foo.bar@foobar.org>
*/

2004-04-24 15:30 UTC+0100 Ryszard Glab <rglab@imid.med.pl>

   * include/hbapi.h
      * changed ULONG hb_objHasMsg into BOOL hb_objHasMsg

   * include/hbvmpub.h
      * added 
         union {
          PHB_FUNC pFunPtr;
          int iStaticsBase;
         } value
       to HB_SYMB structure to remove pointer/int conversion
      
   * source/compiler/genc.c
   * source/compiler/gencli.c
   * source/rdd/dbf1.c
   * source/rdd/delim1.c
   * source/rdd/sdf1.c
   * source/rdd/dbfcdx/dbfcdx1.c
   * source/rdd/dbfdbt/dbfdbt1.c
   * source/rdd/dbffpt/dbffpt1.c
   * source/rdd/dbfntx/dbfntx1.c
   * source/rtl/symbol.prg
   * source/vm/classes.c
   * source/vm/dynsym.c
   * source/vm/hvm.c
   * source/vm/initsymb.c
   * source/vm/macro.c
   * source/vm/runner.c
      * changed to use new HB_SYMB structure
      * removed all pointer/long castings (except runner.c)
      

2004-04-22 18:00 UTC-0500 David G. Holm <dholm@jsd-llc.com>
  * source/vm/itemapi.c
    ! #if check for for RSXNT and EMX must be ahead of GNUC test
      in the infinity test block, because RSXNT and EMX both use
      the GNUC compiler, but use isfinite() instead of finite().

2004-04-22 17:30 UTC-0500 David G. Holm <dholm@jsd-llc.com>
  * contrib/libct/files.c
  * contrib/libnf/color2n.c
  * contrib/libnf/dispc.c
  * contrib/libnf/n2color.c
  * contrib/rdd_ads/ads1.c
  * source/vm/memvars.c
    ! Eliminated most warnings issued by MinGW GCC compiler.

2004-04-22 10:57 UTC+0300 Chen Kedem <niki@actcom.co.il>
  * doc/dirstruc.txt
    + Add oneliner description for: contrib/hbzlib/include,
                                    contrib/hbzlib/Linux,
                                    tests/bldtest

2004-04-21 16:35 UTC+0300 Chen Kedem <niki@actcom.co.il>
  * doc/en/rddord.txt
    - Remove docs for: ORDKEY() $DESCRIPTION$ section, ORDLISTADD(),
                       ORDLISTCLEAR(), ORDLISTREBUILD(), ORDNAME(),
                       ORDNUMBER(), ORDSETFOCUS()
      because of copyright violation!

2004-04-20 16:30 UTC-0400 David G. Holm <dholm@jsd-llc.com>
  * contrib/Makefile
    + Added an ifeq section for bsd builds.

2004-04-19 11:43 UTC+0300 Chen Kedem <niki@actcom.co.il>
  * doc/en/rdd.txt
    - Remove docs for: RDDLIST(), RDDNAME(), RDDSETDEFAULT(), __RDDSETDEFAULT()
      because of copyright violation! (the file is now EMPTY)

  * doc/en/rdddb.txt
    - Remove docs for: __DBCONTINUE(), __DBZAP()
      because of copyright violation!

2004-04-17 12:30 UTC+0100 Ryszard Glab <rglab@imid.med.pl>
   * include/hbapi.h
   * source/rtl/empty.c
   * source/rtl/idle.c
   * source/vm/arrays.c
   * source/vm/estack.c
   * source/vm/extend.c
   * source/vm/itemapi.c
      * added missing code to use HB_IT_POINTER just like 
      other value's type
      You can use:
      hb_retptr( void * pointer )
      hb_parptr( ) -> void *
      hb_storptr( void * pointer, ...... )
      to return/manage pointers from low level functions.
      For example:
      p = GET_SOME_POINTER()
      ? VALTYPE(p)   //prints: 'P'
      ? p   //prints: 0x12345678
      
   * tests/onidle.prg
      * fixed to use values of pointer type
      
   * tests/tstmacro.prg
      * added code to test TYPE() function

2004-04-16 17:08 UTC-0800 Luis Krause Mantilla <lkrausem /*at*/ shaw /*dot*/ ca>
   * contrib/rdd_ads/adsfunc.c
     Renamed adsGetConnectionType() as AdsGetTableConType() and added
     adsGetConnectionType( [hConnect] ) from Brian Hays' implementation in xHarbour.

     Due to the recent changes introduced to Harbour that render FWH inoperable,
     this is likely my last contribution to Harbour's CVS as I'll be using xHarbour
     only with my FWH apps (I currently use FW/FWH 2.3c).

2004-04-16 19:05 UTC+0300 Alexander Kresin <alex@belacy.belgorod.su>
   * hrbdll.bc
     * Makefile for the harbour.dll is changed
   + mkbcdll.bat
     + Bat file is added to build the Harbour.dll. Changing appropriate
       environment variables inside it, you may include/exclude from the dll
       RDD ADS, CT, Libmisc, Debug libraries.
   + tests/bld4dll.bat
     + Bat file is added to build sample applications, which uses harbour.dll

2004-04-16 13:55 UTC+0300 Alexander Kresin <alex@belacy.belgorod.su>
   * include/hbstack.h
   * source/vm/hvm.c
   * source/vm/itemapi.c
   * source/vm/estack.c
   * source/vm/dynsym.c
   * source/rtl/dates.c
   * source/rtl/file.c
   * source/rtl/filesys.c
     * HB_EXPORT is added to ITEM API, FILE API and some other function
       definitions to make it possible to call them when they are in the dll.

2004-04-14 19:05 UTC-0800 Luis Krause Mantilla <lkrausem /*at*/ shaw /*dot*/ ca>
   * contrib/rdd_ads/adsfunc.c
     Added adsGetConnectionType() provided by Randy Portnoff

2004-04-14 12:20 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * tests/bldtest/Makefile
    * fixed typo in file name

  * include/hbdefs.h
    + added HB_COUNTER and HB_PTRDIFF types - first for reference
      counters and second for any pointer differences and pointer to
      integer conversions - this modification is synced with xHarbour

  * include/hbapi.h
  * include/hbdefs.h
  * source/rtl/philes.c
  * source/vm/arrays.c
  * source/vm/hvm.c
  * source/vm/itemapi.c
    * use HB_COUNTER type

2004-04-09 15:00 UTC-0500 David G. Holm <dholm@jsd-llc.com>
  * source/rdd/dbfntx/dbfntx1.c
    ! Converted first parameter in the call to hb_fsCreateTemp from "" to
      NULL in order to avoid having to provide a (BYTE *) type conversion
      like the one that I added for the second parameter.
  * source/rtl/fstemp.c
    * Reformatted the code to match the Harbour coding style (in particular,
      to use spaces instead of Tabs for indenting and to always use braces
      for a code block that follows an if statement, even if only one line).
    ! Added a null pointer check in the non-Unix code that checks the size
      of the input arguments.

2004-04-09 11:45 UTC+0100 Ryszard Glab <rglab@imid.med.pl>
   * source/debug/debugger.prg
      * removed diagnostic ALERT call

2004-04-09 10:10 UTC+0100 Ryszard Glab <rglab@imid.med.pl>
   * include/hbexpra.c
   * include/hbexprop.h
   * source/compiler/expropta.c
   * source/macro/macroa.c
   * source/vm/macro.c
      * fixed my previous fix to correctly release memory in
      the macro compiler

2004-04-08 17:20 UTC+0100 Ryszard Glab <rglab@imid.med.pl>
   * include/hbexpra.c
   * source/compiler/expropta.c
   * source/macro/macroa.c
   * source/vm/macro.c
      * fixed bug cousing that some memory was deallocated
      more then once

   * source/debug/debugger.prg
      * fixed support for .T./.F. in command window
      * fixed issues when the application was using
      SET EXACT ON

2004-04-06 15:40 UTC+0100 Ryszard Glab <rglab@imid.med.pl>
   * include/hbapi.h
   * include/hbvm.h
   * source/vm/hvm.c
   * source/vm/macro.c
      * fixed bug introduced earlier by me in the macro compiler:
        PUBLIC &macro
        works correctly now

2004-04-03 01:46 UTC-0300 Luiz Rafael Culik(culikr@brturbo.com>
   * contrib/hbzlib/*
     ! updated to use the same core as xharbour do
       to compile on linux run ./lincompile.sh
       This was done in respect to users that want to use harbour


2004-04-02 16:25 UTC+0100 Ryszard Glab <rglab@imid.med.pl>
   * source/compiler/gencli.c
      * fixed warnings
      
   * source/rtl/cdpapi.c
      *fixed warnings (Can the author of the code check if
      I correctly parenthesized multiple || and && conditions?)
      
   * source/vm/classes.c
      *fixed warning in gcc (commented out unused 
      static hb_clsScope function)
      
   * source/rdd/dbfntx/dbfntx1.c
   * source/rtl/fstemp.c
      * fixed hb_fsCreateTemp() to use 'mkstemp' on Unix
      * fixed sorting procedure to use hb_fsCreateTemp
      wrapper function

   * source/rtl/set.c
      *hb_set.HB_SET_DIRSEPARATOR defaults to '/' on Unix
      

2004-04-02 13:15 UTC+0100 Ryszard Glab <rglab@imid.med.pl>
   * include/hbexpra.c
   * include/hbexprop.h
   * source/common/expropt1.c
   * source/compiler/expropta.c
   * source/macro/macro.y
   * source/macro/macroa.c
   * source/vm/macro.c
      * fixed to release memory in cases where invalid
      syntax was macro compiled

   * source/vm/itemapi.c
      * fixed to correctly check for infinity on Unix
      STR(LOG(-1)) no longer core dumps

   * source/rtl/filesys.c
   * source/rdd/hbdbsort.c
      * fixed to suppres warnings 

   * source/pp/ppcore.c
   * utils/hbtest/rt_misc.prg
      * Clipper preproceses '**' into '^' - harbour too

2004-04-02 12:17 UTC+0100 Antonio Linares <alinares@fivetechsoft.com>
   * source/rtl/fstemp.c
   * source/rdd/dbfntx/dbfntx1.c
     - Two linux linking time warnings removed

2004-04-01 11:15 UTC+0100 Ryszard Glab <rglab@imid.med.pl>
   * include/hbexprb.c
   * include/hbmacro.ch
      * fixed support for strings as array of bytes
        (in macro compiler)
      * added a new #define HB_SM_ARRSTR as a flag
        for HB_SETMACRO() to disable/enable strings
        as array of bytes

   * source/vm/macro.c
      * added HB_SM_ARRSTR support
      * fixed TYPE() function to return correct value when an
        assigment to undeclared variable is checked (Clipper
        creates the memvar variable) - thanks to Phil Krylov

   * source/compiler/hbusage.c
      * fixed typo for -ks switch


2004-04-01 09:09 UTC+0100 Viktor Szakats <viktor.szakats@syenar.hu>

   * source/common/hbffind.c
     ! Fix for NT4

   * source/rdd/dbsort.prg
     * Fix by Mitja Podgornik

2004-04-01 08:49 UTC+0100 Viktor Szakats <viktor.szakats@syenar.hu>

   * bin/bld.bat
     * Updated

2004-03-31 21:45 UTC-0800 Luis Krause Mantilla <lkrausem /*at*/ shaw /*dot*/ ca>
   * source/rdd/workarea.c
     + added scopped relations. Now OrdSetRelation() works with DBFCDX like it
       does with Clipper 5.3b
   * contrib/rdd_ads/ads1.c
     + adsClearScope() method added to avoid r/t error with ADS and scoped relations
     Thanks to Przemyslaw Czerpak for the fix (borrowed from xHarbour)

2004-03-30 16:30 UTC+0100 Ryszard Glab <rglab@imid.med.pl>
   * include/hbapi.h
   * source/vm/macro.c
      * added HB_ITEM_PTR pError member to HB_MACRO structure
      * fixed bug in macro compiler - calls to static
        functions are not allowed in macro compiler

   * source/common/expropt1.c
   * source/common/hbffind.c
      *fixed minor warnings reported by Randy Portnoff

   * source/rtl/set.c
      *SET(_SET_DEBUG) defaults to FALSE (Clipper compatible)

   * source/rtl/idle.c
      *small optimization of hb_idleState()

   * source/compiler/harbour.y
      *the compiler generates line number for DO CASE
      (if debug info requested - to allow breakpoint)

   * source/debug/debugger.prg
      *the debugger shows the line number for modules where
      no source code is available

2004-03-29 15:00 UTC-0500 David G. Holm <dholm@jsd-llc.com>
  * source/pp/ppcore.c
    ! Added missing type conversions on calls to hb_xgrab
      and hb_xrealloc.
  * source/rtl/memoline.c
    ! Convert CR to space for Clipper compatibility.

2004-03-25 09:35 UTC+0300 Alexander Kresin <alex@belacy.belgorod.su>
  * source/rdd/dbfcdx/dbfcdx1.c
    ! minor fix

2004-03-24 22:10 UTC+0300 Alexander Kresin <alex@belacy.belgorod.su>
  * source/rdd/dbfcdx/dbfcdx1.c
  * source/rdd/dbfcdx/dbfcdx1.h
  * include/dbinfo.ch
  * include/hbrddcdx.h
    ! Some DBFCDX fixes, made by Przemyslaw Czerpak - borrowed from xHarbour.

2004-03-24 10:08 UTC-0800 Luis Krause Mantilla <lkrausem /*at*/ shaw /*dot*/ ca>
   * source/rtl/tbcolumn.prg
     ! fixed typo in comment
   * source/rtl/tbrowse.prg
     ! fixed initialization bug that miscalculated ::RowCount in ::Stabilize()
     ! fixed ASSIGN freeze to return ::nFrozenCols (Clipper compatibility)
     ! fixed ::RefreshCurrent() to validate ::aRedraw to avoid r/t error
     ! fixed ::rect assignment in ::Configure (3rd param was ::nHeaderHeight
             instead of ::nFooterHeight)

2004-03-23 14:50 UTC+0100 Ryszard Glab <rglab@imid.med.pl>
   * source/pp/ppcore.c
      * fixed parsing of nested #defines in command/translate
      for example:
      #define PRE_CHAR  'A'
      #define IDX_EXPR(x)  PRE_CHAR+x
      INDEX ON IDX_EXPR(myfield) TO myfile

   * source/pp/pptable.c
      * updated for fixes in ppcore.c (_DFSET define)

2004-03-21 21:48 UTC-0800 Luis Krause Mantilla <lkrausem /*at*/ shaw /*dot*/ ca>
   * source/rtl/tbcolumn.prg
      + added PreBlock and PostBlock instance variables for Clipper 5.3x compatibility

2004-03-20 15:05 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  + tests/bldtest/Makefile
  + tests/bldtest/bldtest.c
    + simple C program to check if Harbour can be compiled on
      used machine / system / C compiler

2004-03-19 11:40 UTC+0100 Ryszard Glab <rglab@imid.med.pl>
   * utils/hbmake/hbmake.prg
      *fixed #define datediff(<x>,<y>) into datediff(x,y)
      (Clipper compatibility)    (thanks to Jacek Kubica)

2004-03-19 08:20 UTC+0100 Ryszard Glab <rglab@imid.med.pl>
   * source/debug/debugger.prg
      * fixed refreshing of watchpoints

   * source/pp/ppcore.c
      * fixed bug introduced with my previous commit


2004-03-18 12:45 UTC+0100 Ryszard Glab <rglab@imid.med.pl>
   * include/hberrors.h
   * source/pp/ppcore.c
      *fixed #define parsing of pseudofunctions in cases where
       passed argument has the same name as declared parameter
      *fixed #define parsing of pseudofunctions - the following
      syntax is not allowed:
      #define test(x,x) - duplicated parameters
      #define test(x,)  - missing parameter
      #define test(x    - missing parenthes

   * source/common/expropt1.c
      * fixed generation of pcode for &(macro)->() syntax

   * source/compiler/harbour.l
      * fixed GPF when string with unmatched terminator was used


   * include/hbexprop.h
   * source/compiler/harbour.y
      * removed direct access to internals of expression
      optimizer structure

   * source/debug/debugger.prg
      * fixed checking of path separator

2004-03-17 8:14 UTC-0800 Luis Krause Mantilla <lkrausem /*at*/ shaw /*dot*/ ca>
   * contrib/rdd_sys/ads1.c
     * reuploaded to CVS (somehow it didn't get through the last time)

2004-03-11 16:01 UTC-0800 Luis Krause Mantilla <lkrausem /*at*/ shaw /*dot*/ ca>
   * contrib/rdd_sys/ads1.c
     * NTX compatibility fix in adsOrderListFocus() to keep current order if
       selected one fails

2004-03-10 10:40 UTC+0300 Alexander Kresin <alex@belacy.belgorod.su>
  * source/rdd/dbfcdx/dbfcdx1.c
    ! Initialization code fixed.

2004-03-09 22:30 UTC+0300 Alexander Kresin <alex@belacy.belgorod.su>
  * hrbdll.vc
    * file has been updated due to adding source/rtl/hbrandom.c.
  * include/hbapiitm.h
  * source/rdd/itemapi.c
  * source/rdd/dbf1.c
  * source/rdd/workarea.c
  * source/rdd/dbfcdx/dbfcdx1.c
    * more synchronization with xHarbour's RDD.

2004-03-09 10:15 UTC-0800 Luis Krause Mantilla <lkrausem /*at*/ shaw /*dot*/ ca>
   * hrbdll.bc
     * Added reference to missing hbrandom.c. Can a MSVC user sync hrbdll.vc?

2004-03-09 13:50 UTC+0100 Ryszard Glab <rglab@imid.med.pl>
   + source/rtl/altd.prg
      +new file with ALTD() procedure code

   * hrbdll.bc
   * hrbdll.vc
   * makefile.bc
   * makefile.nt
   * makefile.vc
   * source/rtl/Makefile
      *added a reference to rtl/altd.prg

   * source/common/hbffind.c
      *fixed to compile correctly with HB_OS_UNIX
            
   * include/hbcomp.h
   * include/hbexpra.c
   * include/hbexprb.c
   * include/hbexprop.h
   * include/hbpcode.h
   * source/common/expropt1.c
   * source/compiler/expropta.c
   * source/compiler/exproptb.c
   * source/compiler/genc.c
   * source/compiler/harbour.c
   * source/compiler/harbour.y
   * source/compiler/hbfix.c
   * source/compiler/hbgenerr.c
   * source/compiler/hbpcode.c
   * source/macro/macro.y
   * source/macro/macroa.c
   * source/macro/macrob.c
   * source/vm/hvm.c
      +added missing support for @&macro and @M->memvar
      +added new pcode HB_MACROPUSHREF (all sources have to be
       recompiled)

   * source/debug/dbgtwin.prg
   * source/debug/debugger.prg
      *fixed procedures callstack when modules with/without debug info
      are linked together
      *fixed the debugger activation when ALTD() is used in
      a module with no debug info (the debugger shows up
      on the first line with debug info after the ALTD()
      is called)

   NOTICE:
      Some compilers may require that the debug library has to
      be specified as an object file in order to get the 
      debugger linked in.

2004-03-08 19:50 UTC+0300 Alexander Kresin <alex@belacy.belgorod.su>

  + ChangeLog
    + Started a new ChangeLog.
  * source/rtl/ChangeLog.014
    * Renamed old ChangeLog, due to file size.

  * include/hbapifs.h
  * include/hbmath.h
  * include/hbrddcdx.h
  * include/hbrdddbf.h
  * include/hbrddntx.h
  * include/hbrdddbt.h
  * include/hbrddfpt.h
  * include/hbset.h

  + source/rtl/hbrandom.c
  * source/rtl/Makefile
  * source/rtl/filesys.c
  * source/rtl/set.c
  * source/rdd/dbf1.c
  * source/rdd/dbfntx/dbfntx1.c
  * source/rdd/dbfcdx/dbfcdx1.c
  * source/rdd/dbfcdx/dbfcdx1.h
  * source/rdd/dbffpt/dbffpt1.c

    * Changes in DBF RDD, DBFCDX RDD, DBFFPT RDD, made by Przemyslaw Czerpak
      and Giancarlo Niccolai, has been borrowed from xHarbour.

  * makefile.bc
  * makefile.nt
  * makefile.vc
    * make files has been updated due to adding source/rtl/hbrandom.c.
2006-02-15 13:50 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/hvm.c
    ! fixed memory leak I introduced changing Ryszard modifications

      need such functionality yet
  + harbour/ChangeLog.015
  * harbour/source/vm/debug.c

  * harbour/harbour.spec
  * harbour/bin/hb-func.sh
    * some modification in xhb* scripts building - adding passing
      predefined compiler and linker switches
  * harbour/source/vm/hvm.c
    * minor code cleanup

2006-09-03 18:55 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbapicls.h
  * harbour/source/vm/classes.c
  * harbour/source/vm/hvm.c
  * harbour/tests/overload.prg
    + added support for overloading [] in assignment operation

2006-09-03 16:30 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/ChangeLog
  + harbour/ChangeLog.016
    * new ChangeLog file created
  * harbour/include/hbver.h
    * updated version number to 0.47.0
  * tagged CVS as build47
